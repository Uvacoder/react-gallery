{"version":3,"sources":["images/pusheencat.png","images/GitHub_Logo_White.png","actions/album.js","reducers/album.js","actions/photo.js","reducers/photo.js","reducers/index.js","components/octocat.jsx","components/footer.jsx","utils.js","components/loader.jsx","components/albums.jsx","components/photo.jsx","components/photos.jsx","components/modal.jsx","components/gallery.jsx","index.jsx","store/index.js"],"names":["module","exports","__webpack_require__","p","SET_ALBUMS","list","limit","arguments","length","undefined","_ref2","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","_getState","response","albums","wrap","_context","prev","next","fetch","sent","json","t0","slice","abrupt","type","payload","stop","_x","_x2","apply","this","initialState","albumReducer","handleActions","defineProperty","AT","SET_PHOTOS","photoReducer","reduce","acc","photo","albumId","push","rootReducer","combineReducers","photos","Octocat","react_default","createElement","href","pjson","repository","url","target","rel","className","src","octocat","alt","Footer","react","author","Date","getFullYear","version","github","useEffectSafe","effect","afterEffect","_ref3","_ref3$cleanup","cleanup","_ref3$deps","deps","isMounted","useEffect","getDeferredPromise","deferred","promise","Promise","resolve","reject","objectSpread","loadImage","_ref5","_callee2","_ref6","_ref6$delay","delay","image","wait","_getDeferredPromise","onLoad","_args2","_context2","Image","setTimeout","onload","all","Loader","_ref","_ref$color","color","props","objectWithoutProperties","CircularProgress","assign","SmallLoader","loader_Loader","size","LargeLoader","React","memo","allPhotos","setPhotos","setAlbumId","areAlbumsLoaded","Boolean","arePhotosLoaded","map","album","key","id","title","onClick","loader_SmallLoader","_useState","useState","_useState2","slicedToArray","isLoaded","setIsLoaded","_len","args","Array","_key","options","call","_this","concat","useEffectOnceSafe","thumbnailUrl","style","backgroundImage","cx","Photo-image-is-loaded","Fragment","event","stopPropagation","filter","_photo","isLoading","onPhotoClick","src_components_photo","modalStyles","content","display","border","background","overlay","zIndex","backgroundColor","isOpen","close","lib_default","contentLabel","onRequestClose","appElement","document","getElementById","loader_LargeLoader","selector","_mapDispatchToUseCall","actions","entries","accumulator","name","action","useCallback","mapDispatchToUseCallback","useDispatch","listAlbums","albumsActions","listPhotos","openModal","setIsOpen","closeModal","setPhoto","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","modalIsOpen","_useShallowSelector","useSelector","shallowEqual","useEffectOnce","src_components_albums","src_components_photos","photoId","find","components_modal","store","middleware","applyMiddleware","thunk","createStore","configureStore","Body","children","rootElement","render","es","components_octocat","src_Body","components_gallery","footer"],"mappings":"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","file":"static/js/main.65fba2e0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pusheencat.50dbdbc4.png\";","module.exports = __webpack_public_path__ + \"static/media/GitHub_Logo_White.064ace47.png\";","import fetch from 'cross-fetch'\r\n\r\nexport const SET_ALBUMS = 'Set Albums'\r\n\r\nexport function list({ limit } = {}) {\r\n  return async (dispatch, _getState) => {\r\n    const response = await fetch('https://jsonplaceholder.typicode.com/albums')\r\n    const albums = (await response.json()).slice(0, limit)\r\n    return dispatch({ type: SET_ALBUMS, payload: albums })\r\n  }\r\n}\r\n","import { handleActions } from 'redux-actions'\r\n\r\nimport * as AT from '../actions/album'\r\n\r\nconst initialState = []\r\n\r\nexport const albumReducer = handleActions(\r\n  { [AT.SET_ALBUMS]: (_state = initialState, action) => action.payload },\r\n  initialState\r\n)\r\n","import fetch from 'cross-fetch'\r\n\r\nexport const SET_PHOTOS = 'Set Photos'\r\n\r\nexport function list() {\r\n  return async (dispatch, _getState) => {\r\n    const response = await fetch('https://jsonplaceholder.typicode.com/photos')\r\n    const photos = await response.json()\r\n    return dispatch({ type: SET_PHOTOS, payload: photos })\r\n  }\r\n}\r\n","import { handleActions } from 'redux-actions'\r\n\r\nimport * as AT from '../actions/photo'\r\n\r\nconst initialState = {}\r\n\r\nexport const photoReducer = handleActions(\r\n  {\r\n    [AT.SET_PHOTOS]: (_state = initialState, action) =>\r\n      action.payload.reduce((acc, photo) => {\r\n        acc[photo.albumId] = acc[photo.albumId] || []\r\n        acc[photo.albumId].push(photo)\r\n        return acc\r\n      }, {})\r\n  },\r\n  initialState\r\n)\r\n","import { combineReducers } from 'redux'\r\nimport { albumReducer } from './album'\r\nimport { photoReducer } from './photo'\r\n\r\nexport const rootReducer = combineReducers({\r\n  albums: albumReducer,\r\n  photos: photoReducer\r\n})\r\n\r\nexport {}\r\n","import React from 'react'\r\n\r\nimport pjson from '../../package.json'\r\nimport octocat from '../images/pusheencat.png'\r\n\r\nimport './octocat.css'\r\n\r\nexport const Octocat = () => (\r\n  <a href={pjson.repository.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n    <img className=\"Octocat\" src={octocat} alt=\"Octocat\" />\r\n  </a>\r\n)\r\n\r\nexport default Octocat\r\n","import * as React from 'react'\r\n\r\nimport pjson from '../../package.json'\r\nimport github from '../images/GitHub_Logo_White.png'\r\n\r\nexport const Footer = () => (\r\n  <footer className=\"Footer\">\r\n    <span className=\"Footer-credits\">\r\n      Made by&nbsp;<a href=\"https://github.com/adi518\">{pjson.author}</a>\r\n      &nbsp;—&nbsp;\r\n      {new Date().getFullYear()}&nbsp;—&nbsp;{pjson.version}\r\n    </span>\r\n    <a className=\"Footer-github\" href={pjson.repository.url}>\r\n      <img src={github} alt=\"GitHub\" />\r\n    </a>\r\n  </footer>\r\n)\r\n\r\nexport default Footer\r\n","import { useEffect, useCallback } from 'react'\nimport { useSelector, shallowEqual } from 'react-redux'\n\nexport const mapDispatchToUseCallback = (dispatch, actions) =>\n  Object.entries(actions).reduce((accumulator, [name, action]) => {\n    accumulator[name] = useCallback(() => dispatch(action), [dispatch])\n    return accumulator\n  }, {})\n\nexport const useShallowSelector = selector =>\n  useSelector(selector, shallowEqual)\n\nexport const useEffectSafe = (\n  effect,\n  afterEffect,\n  { cleanup = () => {}, deps = undefined } = {}\n) => {\n  let isMounted = false\n  useEffect(() => {\n    isMounted = true\n    ;(async () => {\n      await effect()\n      if (isMounted) afterEffect()\n    })()\n    return () => {\n      isMounted = false\n      cleanup()\n    }\n  }, deps)\n}\n\nexport const useEffectOnceSafe = (...args) => {\n  const options = { ...args[2], ...{ deps: [] } }\n  useEffectSafe.call(this, ...args, options)\n}\n\nexport const getDeferredPromise = () => {\n  const deferred = {}\n  const promise = new Promise((resolve, reject) => {\n    deferred.resolve = resolve\n    deferred.reject = reject\n  })\n  return { ...deferred, promise }\n}\n\nexport const loadImage = async (src, { delay = 1000 } = {}) => {\n  const image = new Image()\n  const wait = new Promise(resolve => setTimeout(resolve, delay))\n  const { resolve, promise: onLoad } = getDeferredPromise()\n  image.onload = () => resolve()\n  image.src = src\n  return Promise.all([wait, onLoad])\n}\n","import React from 'react'\nimport { CircularProgress } from '@material-ui/core'\n\nimport './loader.css'\n\nexport const Loader = ({ color = 'inherit', ...props }) => (\n  <div className=\"Loader\">\n    <CircularProgress color={color} {...props} />\n  </div>\n)\n\nexport const SmallLoader = () => <Loader size={20} />\nexport const MediumLoader = () => <Loader size={40} />\nexport const LargeLoader = () => <Loader size={60} />\n\nexport default Loader\n","import React from 'react'\r\nimport { size } from 'lodash'\r\n\r\nimport { SmallLoader } from './loader'\r\n\r\nimport './albums.css'\r\n\r\nexport const ALBUMS_DISPLAY_LIMIT = 30\r\nexport const PHOTOS_DISPLAY_LIMIT = 30\r\n\r\nexport const Albums = ({\r\n  albums,\r\n  albumId,\r\n  allPhotos,\r\n  setPhotos,\r\n  setAlbumId\r\n}) => {\r\n  const areAlbumsLoaded = Boolean(size(albums))\r\n  const arePhotosLoaded = Boolean(size(allPhotos))\r\n  return (\r\n    <section className=\"Albums\">\r\n      <h2>Albums</h2>\r\n      {areAlbumsLoaded && arePhotosLoaded ? (\r\n        <div className=\"grid\">\r\n          {albums.map(album => (\r\n            <div\r\n              key={album.id}\r\n              title={album.title}\r\n              className=\"Albums-album grid-item\"\r\n              onClick={() => {\r\n                if (album.id === albumId) {\r\n                  setAlbumId(null)\r\n                  setPhotos([])\r\n                } else {\r\n                  setAlbumId(album.id)\r\n                  setPhotos(allPhotos[album.id].slice(0, PHOTOS_DISPLAY_LIMIT))\r\n                }\r\n              }}\r\n            >\r\n              <span className=\"Albums-album-id\">{album.id}</span>\r\n              <span className=\"Albums-album-title line-clamp\">\r\n                {album.title}\r\n              </span>\r\n              {arePhotosLoaded && (\r\n                <div className=\"Albums-album-photos\">\r\n                  ({size(allPhotos[album.id])}&nbsp;Photos)\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <SmallLoader />\r\n      )}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default React.memo(Albums)\r\n","import cx from 'classnames'\r\nimport React, { useState } from 'react'\r\n\r\nimport { SmallLoader } from './loader'\r\n\r\nimport { loadImage, useEffectOnceSafe } from '../utils'\r\n\r\nimport './photo.css'\r\n\r\nexport const Photo = ({ photo, photos, setPhotos, onClick }) => {\r\n  const [isLoaded, setIsLoaded] = useState(false)\r\n\r\n  useEffectOnceSafe(\r\n    () => loadImage(photo.thumbnailUrl),\r\n    () => setIsLoaded(true)\r\n  )\r\n\r\n  return (\r\n    <div\r\n      title={photo.title}\r\n      className=\"Photo grid-item\"\r\n      onClick={() => onClick(photo.id)}\r\n    >\r\n      <div\r\n        style={{ backgroundImage: `url(${photo.thumbnailUrl})` }}\r\n        className={cx('Photo-image', { 'Photo-image-is-loaded': isLoaded })}\r\n      ></div>\r\n      {isLoaded ? (\r\n        <React.Fragment>\r\n          <div className=\"Photo-title line-clamp\">{photo.title}</div>\r\n          <div\r\n            className=\"Photo-dismiss\"\r\n            onClick={event => {\r\n              event.stopPropagation()\r\n              const otherPhotos = _photo => _photo.id !== photo.id\r\n              setPhotos(photos.filter(otherPhotos))\r\n            }}\r\n          />\r\n        </React.Fragment>\r\n      ) : (\r\n        <SmallLoader />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(Photo)\r\n","import React from 'react'\r\nimport { size } from 'lodash'\r\n\r\nimport Photo from './photo'\r\nimport { SmallLoader } from './loader'\r\n\r\nimport './photos.css'\r\n\r\nexport const Photos = ({ isLoading, photos, setPhotos, onPhotoClick }) => {\r\n  const renderPhotos = () => {\r\n    return size(photos) ? (\r\n      <div className=\"grid\">\r\n        {photos.map(photo => (\r\n          <Photo\r\n            key={photo.id}\r\n            {...{ photo, photos, setPhotos, onClick: onPhotoClick }}\r\n          />\r\n        ))}\r\n      </div>\r\n    ) : (\r\n      <div className=\"Photos-placeholder\">\r\n        <span className=\"Photos-placeholder-text\">SELECT ALBUM</span>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <section className=\"Photos\">\r\n      <h2>Photos</h2>\r\n      {isLoading ? <SmallLoader /> : renderPhotos()}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default React.memo(Photos)\r\n","import ReactModal from 'react-modal'\r\nimport React, { useState } from 'react'\r\n\r\nimport { LargeLoader } from './loader'\r\n\r\nimport { loadImage, useEffectSafe } from '../utils'\r\n\r\nimport './modal.css'\r\n\r\nconst modalStyles = {\r\n  content: {\r\n    display: 'flex',\r\n    border: 'none',\r\n    background: 'rgba(23, 20, 29, 0.95)'\r\n  },\r\n  overlay: { zIndex: 4, backgroundColor: 'rgba(0, 0, 0, 0.5)' }\r\n}\r\n\r\nexport const Modal = ({ photo, isOpen, close }) => {\r\n  const [isLoaded, setIsLoaded] = useState(false)\r\n\r\n  useEffectSafe(\r\n    async () => photo && loadImage(photo.url, { delay: 1000 }),\r\n    () => photo && setIsLoaded(true),\r\n    { deps: [photo] }\r\n  )\r\n\r\n  return (\r\n    <ReactModal\r\n      isOpen={isOpen}\r\n      style={modalStyles}\r\n      contentLabel=\"Photo Modal\"\r\n      onRequestClose={() => {\r\n        close()\r\n        setIsLoaded(false)\r\n      }}\r\n      appElement={document.getElementById('root')}\r\n    >\r\n      <div className=\"Modal-dismiss\" onClick={close} />\r\n      <div className=\"Modal-photo\">\r\n        {isLoaded ? <img src={photo.url} alt={photo.title} /> : <LargeLoader />}\r\n      </div>\r\n    </ReactModal>\r\n  )\r\n}\r\n\r\nexport default React.memo(Modal)\r\n","import { size } from 'lodash'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useEffectOnce } from 'react-use'\r\nimport React, { useState, useCallback } from 'react'\r\n\r\nimport { useShallowSelector, mapDispatchToUseCallback } from '../utils'\r\nimport Albums, { ALBUMS_DISPLAY_LIMIT } from './albums'\r\nimport Photos from './photos'\r\nimport Modal from './modal'\r\n\r\nimport * as albumsActions from '../actions/album'\r\nimport * as photosActions from '../actions/photo'\r\n\r\nimport './gallery.css'\r\n\r\nexport const Gallery = () => {\r\n  const dispatch = useDispatch()\r\n  const { listAlbums, listPhotos } = mapDispatchToUseCallback(dispatch, {\r\n    listAlbums: albumsActions.list({ limit: ALBUMS_DISPLAY_LIMIT }),\r\n    listPhotos: photosActions.list()\r\n  })\r\n\r\n  const openModal = useCallback(() => setIsOpen(true))\r\n  const closeModal = useCallback(() => setIsOpen(false))\r\n\r\n  const [photo, setPhoto] = useState(null)\r\n  const [photos, setPhotos] = useState([])\r\n  const [albumId, setAlbumId] = useState(null)\r\n  const [modalIsOpen, setIsOpen] = useState(false)\r\n  const { albums, photos: allPhotos } = useShallowSelector(\r\n    ({ albums, photos }) => ({\r\n      albums,\r\n      photos\r\n    })\r\n  )\r\n\r\n  useEffectOnce(() => {\r\n    listAlbums()\r\n    listPhotos()\r\n  })\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <section className=\"Gallery\">\r\n        <div className=\"Gallery-grid\">\r\n          <Albums {...{ albums, albumId, allPhotos, setAlbumId, setPhotos }} />\r\n          <Photos\r\n            {...{\r\n              photos,\r\n              setPhotos,\r\n              isLoading: size(albums) === 0,\r\n              onPhotoClick: photoId => {\r\n                const thisPhoto = photo => photo.id === photoId\r\n                const photo = allPhotos[albumId].find(thisPhoto)\r\n                setPhoto(photo)\r\n                openModal()\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </section>\r\n      <Modal {...{ photo, isOpen: modalIsOpen, close: closeModal }} />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default React.memo(Gallery)\r\n","import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport { configureStore } from './store'\r\n\r\nimport Octocat from './components/octocat'\r\nimport Footer from './components/footer'\r\nimport Gallery from './components/gallery'\r\n\r\nimport './styles.css'\r\n\r\nconst store = configureStore()\r\n\r\nconst Body = ({ children }) => <main className=\"Body\">{children}</main>\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <div className=\"App\">\r\n        <Octocat />\r\n        <Body>\r\n          <Gallery />\r\n        </Body>\r\n        <Footer />\r\n      </div>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nconst rootElement = document.getElementById('root')\r\nrender(<App />, rootElement)\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport { rootReducer } from '../reducers'\r\n\r\nexport function configureStore(initialState) {\r\n  let middleware = applyMiddleware(thunk)\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    middleware = composeWithDevTools(middleware)\r\n  }\r\n\r\n  const store = createStore(rootReducer, initialState, middleware)\r\n\r\n  if (module.hot) {\r\n    module.hot.accept('../reducers', () => {\r\n      const nextReducer = require('../reducers')\r\n      store.replaceReducer(nextReducer)\r\n    })\r\n  }\r\n\r\n  return store\r\n}\r\n"],"sourceRoot":""}