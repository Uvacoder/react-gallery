{"version":3,"sources":["images/GitHub_Logo_White.png","middleware/logger.js","actions/album.js","reducers/album.js","actions/photo.js","reducers/photo.js","reducers/index.js","components/rapyd.jsx","components/footer.jsx","components/albums.jsx","components/photo.jsx","components/photos.jsx","components/modal.jsx","components/gallery.jsx","index.jsx","store/index.js"],"names":["module","exports","__webpack_require__","p","logger","store","next","action","SET_ALBUMS","initialState","albumReducer","handleActions","Object","defineProperty","arguments","length","undefined","payload","SET_PHOTOS","photoReducer","reduce","acc","photo","albumId","push","rootReducer","combineReducers","albums","photos","Rapyd","react_default","a","createElement","href","style","position","right","top","zIndex","width","xmlns","viewBox","fillRule","transform","fill","d","Footer","react","className","Date","getFullYear","pjson","version","src","github","alt","Albums","_ref","allPhotos","setPhotos","setAlbumId","areAlbumsLoaded","Boolean","size","arePhotosLoaded","map","album","key","id","title","onClick","slice","CircularProgress","color","LOAD_PHOTO_DELAY","React","memo","onPhotoClick","_useState","useState","_useState2","slicedToArray","isLoaded","setIsLoaded","isMounted","useEffectOnce","_loadImage","asyncToGenerator","regenerator_default","mark","_callee","image","wait","wrap","_context","prev","Image","Promise","resolve","setTimeout","onload","thumbnailUrl","all","stop","apply","this","loadImage","backgroundImage","concat","cx","Photo-image-is-loaded","Fragment","event","stopPropagation","filter","_photo","Photos","isLoading","src_components_photo","assign","modalStyles","content","display","border","background","overlay","backgroundColor","Modal","modalIsOpen","closeModal","lib_default","isOpen","contentLabel","onRequestClose","appElement","document","getElementById","url","mapDispatchToProps","listAlbums","limit","_ref2","dispatch","getState","response","fetch","sent","json","t0","abrupt","type","_x","_x2","listPhotos","connect","setPhoto","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","setIsOpen","src_components_albums","src_components_photos","photoId","find","components_modal","middleware","applyMiddleware","thunk","createStore","configureStore","Body","children","rootElement","render","es","rapyd","src_Body","components_gallery","footer"],"mappings":"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","file":"static/js/main.70314be9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/GitHub_Logo_White.064ace47.png\";","export const logger = store => next => action => {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.log(action);\n  }\n\n  return next(action);\n};\n","import fetch from 'cross-fetch'\n\nexport const SET_ALBUMS = 'Set Albums'\n\nexport function list({ limit }) {\n  return async (dispatch, getState) => {\n    const response = await fetch('https://jsonplaceholder.typicode.com/albums')\n    const albums = (await response.json()).slice(0, limit)\n    return dispatch({ type: SET_ALBUMS, payload: albums })\n  }\n}\n","import { handleActions } from 'redux-actions'\n\nimport { SET_ALBUMS } from '../actions/album'\n\nconst initialState = []\n\nexport const albumReducer = handleActions(\n  { [SET_ALBUMS]: (state = initialState, action) => action.payload },\n  initialState\n)\n","import fetch from 'cross-fetch'\n\nexport const SET_PHOTOS = 'Set Photos'\n\nexport function list() {\n  return async (dispatch, getState) => {\n    const response = await fetch('https://jsonplaceholder.typicode.com/photos')\n    const photos = await response.json()\n    return dispatch({ type: SET_PHOTOS, payload: photos })\n  }\n}\n","import { handleActions } from 'redux-actions'\n\nimport { SET_PHOTOS } from '../actions/photo'\n\nconst initialState = {}\n\nexport const photoReducer = handleActions(\n  {\n    [SET_PHOTOS]: (state = initialState, action) =>\n      action.payload.reduce((acc, photo) => {\n        acc[photo.albumId] = acc[photo.albumId] || []\n        acc[photo.albumId].push(photo)\n        return acc\n      }, {})\n  },\n  initialState\n)\n","import { combineReducers } from 'redux'\nimport { albumReducer } from './album'\nimport { photoReducer } from './photo'\n\nexport const rootReducer = combineReducers({\n  albums: albumReducer,\n  photos: photoReducer\n})\n\nexport {}\n","import React from 'react'\n\nconst Rapyd = () => (\n  <a href=\"https://www.rapyd.net/\">\n    <svg\n      style={{\n        position: 'fixed',\n        right: '1rem',\n        top: '1rem',\n        zIndex: 3,\n        width: '3rem'\n      }}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 163 50.41\"\n    >\n      <title>Rapyd</title>\n      <path\n        fillRule=\"evenodd\"\n        transform=\"translate(-3 -1)\"\n        fill=\"rgba(255, 255, 255, 0.25)\"\n        d=\"M157.79,1H166l-3.86,22.3-1.61,9.25-1.22,7.06-.13.77H143.63c-7.17,0-12-6.34-10.56-14.56s8.44-14.56,15.61-14.56H156L157.79,1Zm-3.14,18.09H149a7.74,7.74,0,0,0-7.69,6.73c-.71,4.14,1.58,6.73,5.35,6.73h5.69ZM76.45,51.41H68.24L70,41.15l.13-.77.09-.52,4.53-26.14.16-.92.13-.77H90.61c7.17,0,12,6.35,10.56,14.56S92.73,41.15,85.56,41.15H78.23L76.45,51.41ZM73.71,19.86l1.06-6.14-1.06,6.14Zm5.88,13.46h5.68A7.74,7.74,0,0,0,93,26.59c.71-4.14-1.58-6.73-5.35-6.73H81.92ZM125,12.77l-8.07,16.88-3.15-16.88h-9l6.34,26.31c-1.79,3.37-3.8,4.58-7.64,4.58l-1.34,7.73c7.6.38,13.08-3.1,17.66-11.87l14-26.75ZM25.45,40.38h9.41l-5.7-14.17a16,16,0,0,0,9-11.2C39.44,7.67,34.6,1.77,27.32,1.77H9.69L3,40.38h8.76Q14.39,25.21,17,10h8.87c2.41,0,4,2.16,3.51,5s-2.83,5-5.23,5h-7ZM54,12c-7.17,0-14.19,6.35-15.61,14.56s3.39,14.56,10.56,14.56H64.45l.14-.77,1.22-7.06,2.33-13.46,1.23-7.06L69.5,12ZM57.6,33.32H51.91c-3.78,0-6.06-2.59-5.35-6.73a7.73,7.73,0,0,1,7.68-6.73h5.69Z\"\n      ></path>\n    </svg>\n  </a>\n)\n\nexport default Rapyd\n","import * as React from 'react'\n\nimport pjson from '../../package.json'\nimport github from '../images/GitHub_Logo_White.png'\n\nexport const Footer = () => (\n  <footer className=\"Footer\">\n    <span className=\"Footer-credits\">\n      Made by&nbsp;<a href=\"https://github.com/adi518\">adi sahar</a>\n      &nbsp;—&nbsp;\n      {new Date().getFullYear()}&nbsp;—&nbsp;{pjson.version}\n    </span>\n    <a className=\"Footer-github\" href=\"https://github.com/adi518/rapyd\">\n      <img src={github} alt=\"GitHub\" />\n    </a>\n  </footer>\n)\n\nexport default Footer\n","import React from 'react'\nimport { size } from 'lodash'\nimport { CircularProgress } from '@material-ui/core'\n\nimport './albums.css'\n\nexport const ALBUMS_DISPLAY_LIMIT = 36\nexport const PHOTOS_DISPLAY_LIMIT = 36\n\nexport const Albums = ({\n  albums,\n  albumId,\n  allPhotos,\n  setPhotos,\n  setAlbumId\n}) => {\n  const areAlbumsLoaded = Boolean(size(albums))\n  const arePhotosLoaded = Boolean(size(allPhotos))\n  return (\n    <section className=\"Albums\">\n      <h2>Albums</h2>\n      {areAlbumsLoaded && arePhotosLoaded ? (\n        <div className=\"grid\">\n          {albums.map(album => (\n            <div\n              key={album.id}\n              title={album.title}\n              className=\"Albums-album grid-item\"\n              onClick={() => {\n                if (album.id === albumId) {\n                  setAlbumId(null)\n                  setPhotos([])\n                } else {\n                  setAlbumId(album.id)\n                  setPhotos(allPhotos[album.id].slice(0, PHOTOS_DISPLAY_LIMIT))\n                }\n              }}\n            >\n              <span className=\"Albums-album-id\">{album.id}</span>\n              <span className=\"Albums-album-title line-clamp\">\n                {album.title}\n              </span>\n              {arePhotosLoaded && (\n                <div className=\"Albums-album-photos\">\n                  ({size(allPhotos[album.id])}&nbsp;Photos)\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      ) : (\n        <CircularProgress color=\"inherit\" size={20} />\n      )}\n    </section>\n  )\n}\n\nexport default Albums\n","import cx from 'classnames'\nimport React, { useState } from 'react'\nimport { useEffectOnce } from 'react-use'\nimport { CircularProgress } from '@material-ui/core'\n\nimport './photo.css'\n\nconst LOAD_PHOTO_DELAY = 1000\n\nexport const Photo = ({ photo, photos, setPhotos, onPhotoClick }) => {\n  const [isLoaded, setIsLoaded] = useState(false)\n  let isMounted = false\n\n  useEffectOnce(() => {\n    isMounted = true\n\n    async function loadImage() {\n      const image = new Image()\n      const wait = new Promise(resolve => setTimeout(resolve, LOAD_PHOTO_DELAY))\n      image.onload = () => Promise.resolve()\n      image.src = photo.thumbnailUrl\n      await Promise.all([wait, image.onload])\n      isMounted && setIsLoaded(true)\n    }\n\n    loadImage()\n\n    return () => (isMounted = false)\n  })\n\n  return (\n    <div\n      title={photo.title}\n      className=\"Photo grid-item\"\n      onClick={() => onPhotoClick(photo.id)}\n    >\n      <div\n        style={{ backgroundImage: `url(${photo.thumbnailUrl})` }}\n        className={cx('Photo-image', { 'Photo-image-is-loaded': isLoaded })}\n      ></div>\n      {!isLoaded && <CircularProgress color=\"inherit\" size={20} />}\n      {isLoaded && (\n        <React.Fragment>\n          <div className=\"Photo-title line-clamp\">{photo.title}</div>\n          <div\n            className=\"Photo-dismiss\"\n            onClick={event => {\n              event.stopPropagation()\n              const otherPhotos = _photo => _photo.id !== photo.id\n              setPhotos(photos.filter(otherPhotos))\n            }}\n          />\n        </React.Fragment>\n      )}\n    </div>\n  )\n}\n\nexport default React.memo(Photo)\n","import React from 'react'\nimport { size } from 'lodash'\nimport { CircularProgress } from '@material-ui/core'\n\nimport Photo from './photo'\n\nimport './photos.css'\n\nexport const Photos = ({ isLoading, photos, setPhotos, onPhotoClick }) => {\n  const renderPhotos = () => {\n    return size(photos) ? (\n      <div className=\"grid\">\n        {photos.map(photo => (\n          <Photo\n            key={photo.id}\n            {...{ photo, photos, setPhotos, onPhotoClick }}\n          />\n        ))}\n      </div>\n    ) : (\n      <div className=\"Photos-placeholder\">\n        <span className=\"Photos-placeholder-text\">SELECT ALBUM</span>\n      </div>\n    )\n  }\n  return (\n    <section className=\"Photos\">\n      <h2>Photos</h2>\n      {isLoading ? (\n        <CircularProgress color=\"inherit\" size={20} />\n      ) : (\n        renderPhotos()\n      )}\n    </section>\n  )\n}\n\nexport default Photos\n","import React from 'react'\nimport ReactModal from 'react-modal'\n\nimport './modal.css'\n\nconst modalStyles = {\n  content: {\n    display: 'flex',\n    border: 'none',\n    background: 'rgba(23, 20, 29, 0.95)'\n  },\n  overlay: { zIndex: 4, backgroundColor: 'rgba(0, 0, 0, 0.5)' }\n}\n\nexport const Modal = ({ photo, modalIsOpen, closeModal }) => (\n  <ReactModal\n    style={modalStyles}\n    isOpen={modalIsOpen}\n    contentLabel=\"Photo Modal\"\n    onRequestClose={closeModal}\n    appElement={document.getElementById('root')}\n  >\n    <div className=\"Modal-dismiss\" onClick={closeModal} />\n    {photo && (\n      <div className=\"Modal-photo\">\n        <img src={photo.url} alt={photo.title} />\n      </div>\n    )}\n  </ReactModal>\n)\n\nexport default Modal\n","import { size } from 'lodash'\nimport { connect } from 'react-redux'\nimport React, { useState } from 'react'\nimport { useEffectOnce } from 'react-use'\n\nimport Albums, { ALBUMS_DISPLAY_LIMIT } from './albums'\nimport Photos from './photos'\nimport Modal from './modal'\n\nimport { list as listAlbums } from '../actions/album'\nimport { list as listPhotos } from '../actions/photo'\n\nimport './gallery.css'\n\nexport const Gallery = ({\n  albums,\n  photos: allPhotos,\n  listAlbums,\n  listPhotos\n}) => {\n  useEffectOnce(() => {\n    listAlbums({ limit: ALBUMS_DISPLAY_LIMIT })\n    listPhotos()\n  })\n\n  function openModal() {\n    setIsOpen(true)\n  }\n\n  function closeModal() {\n    setIsOpen(false)\n  }\n\n  const [photo, setPhoto] = useState(null)\n  const [photos, setPhotos] = useState([])\n  const [albumId, setAlbumId] = useState(null)\n  const [modalIsOpen, setIsOpen] = useState(false)\n\n  return (\n    <React.Fragment>\n      <section className=\"Gallery\">\n        <div className=\"Gallery-grid\">\n          <Albums {...{ albums, albumId, allPhotos, setAlbumId, setPhotos }} />\n          <Photos\n            {...{\n              photos,\n              setPhotos,\n              isLoading: size(albums) === 0,\n              onPhotoClick: photoId => {\n                const photo = allPhotos[albumId].find(\n                  photo => photo.id === photoId\n                )\n                setPhoto(photo)\n                openModal()\n              }\n            }}\n          />\n        </div>\n      </section>\n      <Modal {...{ photo, modalIsOpen, closeModal }} />\n    </React.Fragment>\n  )\n}\n\nconst mapStateToProps = ({ albums, photos }) => ({ albums, photos })\nconst mapDispatchToProps = { listAlbums, listPhotos }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Gallery))\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport { configureStore } from './store'\n\nimport Rapyd from './components/rapyd'\nimport Footer from './components/footer'\nimport Gallery from './components/gallery'\n\nimport './styles.css'\n\nconst store = configureStore()\n\nconst Body = ({ children }) => <main className=\"Body\">{children}</main>\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <Rapyd />\n        <Body>\n          <Gallery />\n        </Body>\n        <Footer />\n      </div>\n    </Provider>\n  )\n}\n\nconst rootElement = document.getElementById('root')\nrender(<App />, rootElement)\n","import { createStore, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport { logger } from '../middleware'\nimport { rootReducer } from '../reducers'\n\nexport function configureStore(initialState) {\n  let middleware = applyMiddleware(thunk, logger)\n\n  if (process.env.NODE_ENV !== 'production') {\n    middleware = composeWithDevTools(middleware)\n  }\n\n  const store = createStore(rootReducer, initialState, middleware)\n\n  if (module.hot) {\n    module.hot.accept('../reducers', () => {\n      const nextReducer = require('../reducers')\n      store.replaceReducer(nextReducer)\n    })\n  }\n\n  return store\n}\n"],"sourceRoot":""}